<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[[.TD.Data.TitledName]]/[[.Table.Name]] List</title>
    <style>
        html, body, p {
            padding: 0;
            border: 0;
            margin: 0;
        }
        body {
            display: flex;
            flex-flow: column nowrap;
            justify-content: center;
            align-items: left;
            height: 100vh;
        }
        p {
            margin-left: 4rem;
            font-size: 2rem;
            color: black;
        }
        .link {
            font-size: 1rem;
        }
        label {
            display:block;
            position:relative;
        }

        label span {
            font-weight:bold;
            position:absolute;
            left: 3px;
        }

        label input, label textarea, label select {
            margin-left: 120px;
        }
    </style>
</head>
<body>
    <form id="listForm" method="get" action="/[[.Table.Name]]">
    <table>
        <tbody>
            {{range $r := .Rcds}}
                <tr>
                {{$r.ListOutput -}}
                </tr>
            {{end}}
        </tbody>
    </table>
        <input type=hidden name=offset id=offset value={{.Offset}}>
        <p/>
        <p/>
        <p/>
        <input type=submit onclick='onListFirst()' value="First">
        <input type=submit onclick='onListPrev()'  value="Prev">
        <input type=submit onclick='onListNext()'  value="Next">
        <input type=submit onclick='onListLast()'  value="Last">
        <input type=submit onclick='onListMenu()'  value="Menu">
    </form>
    <p/>
    <script>
        function onListFirst() {
            document.getElementById("listForm").action = "/[[.Table.Name]]/list/first";
            document.getElementById("listForm").method = "get";
        }
        function onListLast() {
            document.getElementById("listForm").action = "/[[.Table.Name]]/list/last";
            document.getElementById("listForm").method = "get";
        }
        function onListMenu() {
            document.getElementById("listForm").action = "/";
            document.getElementById("listForm").method = "get";
        }
        function onListNext() {
            key = document.getElementById("offset").value
            document.getElementById("listForm").action = "/[[.Table.Name]]/list/next?key="+key;
            document.getElementById("listForm").method = "get";
        }
        function onListPrev() {
            key = document.getElementById("offset").value
            document.getElementById("listForm").action = "/[[.Table.Name]]/list/prev?key="+key;
            document.getElementById("listForm").method = "get";
        }
    </script>
</body>
</html>
